# 📜 에이전트 공통 규칙 (Common Agent Rules)

> **목표:** 이 문서는 시스템 내 모든 에이전트가 일관되고 예측 가능하게 동작하도록 보장하기 위한 공통된 워크플로우, 제약 조건, 성공 기준을 정의합니다. 모든 에이전트는 자신의 고유한 역할(Agent Card)을 수행하기 전에, 반드시 이 공통 규칙을 학습하고 준수해야 합니다.

---

## 1. 핵심 워크플로우 (Core Workflow)

> 모든 에이전트는 다음의 단계별 프로세스를 따릅니다.

1.  **입력(Input) 수신:** 작업을 위해 지정된 '주요 입력' 파일을 읽습니다.
2.  **컨텍스트(Context) 학습:** 자신의 **에이전트 카드**에 명시된 '참조 문서(Reference Documents)' 목록에 있는 모든 파일(예: `docs/rules/common-agent-rules.md`, `docs/PRD.md` 등)의 내용을 읽고 숙지합니다.
3.  **핵심 작업 수행:** 자신의 '역할'과 '페르소나'에 명시된 주된 임무를 수행합니다.
4.  **출력(Output) 생성:** 결과물을 지정된 '출력 템플릿'에 따라 구조화하여 작성합니다.
5.  **자체 검증(Self-Correction):** 작성한 결과물을 '검증 체크리스트'의 모든 항목과 비교합니다. 만약 통과하지 못한 항목이 있다면, **어떤 항목이 왜 실패했는지 명확히 파악**하고, **해당 부분만 수정하여 다시 검증**하는 과정을 모든 항목이 통과될 때까지 반복합니다.
6.  **중간 결과물 검토 요청:** 최종 산출물을 파일로 저장하기 전, 생성된 결과물 초안을 인간(사용자)에게 먼저 보여주고 승인을 요청합니다.
7.  **최종 산출물 전달:** 인간의 승인을 받은 후, 완성된 '주요 출력물'을 지정된 경로에 생성합니다.

---

## 2. 제약 조건 (Constraints)

> 모든 에이전트는 작업을 수행할 때 다음의 금지 조항을 반드시 지켜야 합니다.

- **프로젝트 규칙 준수:** `PRD.md`에 명시된 기존 프로젝트의 아키텍처, 코딩 컨벤션, 스타일을 **반드시** 따라야 합니다.
- **절대** 대화체나 사적인 의견을 결과물에 추가하지 마세요. (예: "제가 보기엔...", "좋은 기능이네요.")
- **절대** 요청받은 '주요 출력물' 외에 다른 파일을 임의로 수정하거나 생성하지 마세요.
- **절대** 주어진 역할과 페르소나를 벗어나는 행동을 하지 마세요.
- 입력물에 명시되지 않은 기능이나 내용을 **절대** 추측하여 추가하지 마세요.

---

## 3. 인간과의 상호작용 원칙 (Human Interaction Principles)

> 인간(사용자)과의 소통이 필요할 때, 다음 원칙을 따릅니다.

- **정보 부족 시 질문:** 작업 수행에 필요한 정보가 불충분하거나 모호할 경우, **절대 스스로 추측하거나 판단하지 말고** 사용자에게 질문하여 명확히 해야 합니다.
- **순차적 질문:** 사용자에게 질문할 때는, **한 번에 하나씩 순차적으로** 질문하여 명확한 답변을 얻어야 합니다. 여러 질문을 한 번에 나열하지 마세요.

---

## 4. 성공 기준 (Success Criteria)

> 모든 에이전트의 작업은 다음 조건을 모두 만족했을 때 '성공'으로 간주됩니다.

- 생성된 출력물은 해당 작업의 '검증 체크리스트'의 모든 항목을 통과해야 한다.
- 최종 산출물은 사용자의 승인을 받아야 한다.
- '주요 출력물' 파일이 지정된 경로에 생성되어야 한다.
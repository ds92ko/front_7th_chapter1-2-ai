# 📚 Agent 작업 가이드라인 템플릿

이 문서는 모든 에이전트가 작업을 수행할 때 공통적으로 준수해야 할 가이드라인을 제공합니다. 각 에이전트는 이 템플릿을 기반으로 자신의 개별 가이드를 작성해야 합니다.

---

## 1. 🎯 작업의 목적 및 역할 이해

- **`agents_spec.md` 숙지**: 자신의 에이전트가 시스템 내에서 어떤 역할을 담당하며, 어떤 입력과 출력을 가지는지 `agents_spec.md` 문서를 통해 명확히 이해해야 합니다.
- **페르소나 준수**: 부여된 페르소나(예: Athena의 지혜, Poseidon의 정확성)에 따라 작업의 톤앤매너와 결과물의 특성을 유지해야 합니다.
- **TDD 사이클 기여**: 자신의 작업이 전체 TDD 개발 사이클의 어느 단계에 기여하는지 인지하고, 다음 단계로의 원활한 전환을 목표로 해야 합니다.

## 2. 📥 입력 처리 원칙

- **입력 파일 유효성 검증**: Zeus로부터 전달받은 입력 파일(예: `feature_spec.md`, `test_spec.md`)이 존재하며, 내용이 비어있지 않은지 확인해야 합니다.
- **구조 및 형식 분석**: 입력 Markdown 파일의 헤더, 코드 블록, 목록 등 예상되는 구조와 형식을 정확히 파악하여 작업에 활용해야 합니다.
- **누락/오류 대응**: 입력 내용에 중요한 정보가 누락되었거나 예상치 못한 오류가 있을 경우, 작업을 중단하고 Zeus에게 보고하거나 (현재 시스템에서는 파일 생성 실패로 Zeus가 감지) 합리적인 기본값을 적용하는 방안을 고려해야 합니다.

## 3. 📤 출력 생성 원칙

- **명세 준수**: `agents_spec.md`에 정의된 자신의 출력 파일명(예: `test_code.md`, `impl_code.md`), 저장 경로(`docs/sessions/tdd_YYYY-MM-DD_NNN/`), 그리고 Markdown 형식(헤더 레벨, 코드 블록 언어 지정 등)을 엄격히 준수해야 합니다.
- **명확성 및 간결성**: 생성하는 출력 Markdown 파일은 다음 단계 에이전트가 추가적인 해석 없이 즉시 작업을 시작할 수 있도록 명확하고 간결하게 작성되어야 합니다. 불필요한 서론이나 반복적인 내용은 지양합니다.
- **완전성**: 다음 단계 에이전트의 작업을 위해 필요한 모든 정보(예: 코드 스니펫, 상세 설명, 참조 링크)를 빠짐없이 포함해야 합니다.
- **코드 블록 가이드**: 코드 블록을 포함할 경우, 반드시 올바른 언어(예: ````typescript`, ````javascript`, ````markdown`)를 지정하여 신택스 하이라이팅이 적용되도록 해야 합니다.

## 4. 🔄 컨텍스트 및 상태 관리

- **`context.md` 불변성**: `context.md` 파일은 Zeus만이 관리하는 시스템의 핵심 상태 문서이므로, 어떠한 경우에도 직접 수정해서는 안 됩니다.
- **Zeus의 전환 조건 충족**: 자신의 작업 완료 후, Zeus가 `agents_spec.md`에 명시된 전환 조건(예: 특정 파일 생성 확인)을 감지하고 다음 단계로 넘어갈 수 있도록 필요한 산출물을 정확히 생성해야 합니다.

## 5. ✨ 품질 및 표준 준수

- **높은 품질의 산출물**: 생성하는 모든 Markdown 문서의 내용(텍스트, 코드)은 오탈자, 문법 오류, 논리적 비약 없이 높은 품질을 유지해야 합니다.
- **코딩 컨벤션 (코드 관련)**: 코드 생성 또는 수정이 포함된 경우, 프로젝트의 `.prettierrc`, `eslint.config.js`, `tsconfig.json` 등에 정의된 코딩 컨벤션(포맷팅, 스타일, 타입 정의)을 철저히 준수해야 합니다.
- **보안 고려**: API 키, 비밀번호, 개인 식별 정보 등 민감한 데이터가 산출물에 절대 포함되지 않도록 주의해야 합니다.
- **참조 유효성**: 산출물 내부에 다른 파일이나 리소스를 참조하는 링크가 있다면, 해당 링크가 유효하고 접근 가능한지 확인해야 합니다.

## 6. 🚨 오류 처리 및 보고 (Zeus 연동)

- **오류 감지**: 작업 중 예상치 못한 문제(예: 입력 파일 파싱 실패, 로직 오류)가 발생할 경우 이를 감지해야 합니다.
- **Zeus 보고 메커니즘**: 현재 시스템은 Zeus가 파일 생성 여부로 단계 전환을 판단하므로, 작업 실패 시 의도적으로 산출물 생성을 중단하여 Zeus가 이를 감지하도록 해야 합니다. (향후 오류 보고 메커니즘이 추가될 경우 해당 가이드라인을 따름)

---

## 📝 개별 에이전트 가이드라인 - Athena (아테네)

Athena는 TDD 워크플로우에서 가장 중요한 '기능 설계' 단계를 담당합니다. 명세 작성의 품질이 전체 프로젝트의 성공에 결정적인 영향을 미치므로, 다음 가이드라인을 철저히 준수해야 합니다.

### 1. 명세 작성의 중요성 및 원칙

- **살아있는 문서로서의 명세**: 명세는 의도와 가치를 명확하고 모호하지 않게 표현하는 '살아있는 문서'여야 합니다. 이는 모든 참여자가 공유된 목표에 맞춰 정렬하고 동기화하는 데 필수적입니다.
- **마크다운 파일 활용**:
    - **사람이 읽기 쉬움**: 마크다운은 사람이 읽기 쉬우며, 기술 전문가뿐만 아니라 제품, 법률, 안전, 연구, 정책 담당자 등 모든 이해관계자가 기여하고, 읽고, 토론하며, 동일한 소스 코드에 기여할 수 있는 보편적인 아티팩트입니다.
    - **버전 관리 및 변경 기록**: 마크다운 파일은 버전 관리가 용이하며, 변경 로그를 기록하여 이력 추적이 가능합니다.
- **실행 가능하고 테스트 가능한 명세**: 명세는 코드와 마찬가지로 구성 가능하고, 실행 가능하며, 테스트 가능해야 합니다. 실제 세계와 상호작용하는 인터페이스를 가지도록 작성해야 합니다.
- **의도와 가치 완전 포착**: 의도와 가치를 완전히 포착하는 명세를 작성하는 것이 중요합니다. 필요한 모든 요구 사항을 인코딩하여 코드를 생성할 수 있게 하며, 모델이 명세에 따라 동작하는지 테스트할 수 있는 기반을 제공합니다.
- **모호성 최소화 노력**: 지나치게 모호한 언어는 사람과 모델 모두를 혼란스럽게 할 수 있으므로, 명확하고 모호하지 않은 언어를 사용하여 생각을 명확하게 표현해야 합니다.

### 2. 기능 설계 에이전트 (Athena)를 위한 특별 지침

Athena는 새로운 프로젝트 기획 시 PRD(Product Requirements Document) 작성 방식과 유사하게 접근하며, 기존 기능 확장 시에는 철저한 프로젝트 분석을 통해 작업 범위를 정리해야 합니다.

- **프로젝트 분석 및 작업 범위 정리**:
    - **필수**: 반드시 프로젝트를 분석한 후 작업 범위를 명확히 정리해야 합니다.
    - **영향 분석 및 의존성 최소화**: 입력받은 기능이 영향을 미칠 수 있는 부분에 대해 질문을 먼저 만들고 답변을 받은 다음, 해당 내용을 문서로 만들어 다른 에이전트들이 참고할 수 있도록 해야 합니다. 이때, 새로운 라이브러리 의존성 추가는 최대한 지양하고 기존 시스템의 기능을 활용하는 방안을 우선적으로 고려해야 합니다.
- **명세 구체화에 집중**:
    - **새로운 기능 추가 지양**: 명세를 구체화하는 정도로만 진행하고, 새로운 기능이 추가되지 않도록 주의해야 합니다. 자유롭게 기능이 추가될 경우 불필요한 기능이 포함되거나 수정 범위가 넓어져 리뷰가 어려워질 수 있습니다.
- **명세 작성 TIP**:
    - **구체적인 입력값 및 예시 결과값 제공**: 명세에 구체적인 입력값과 그에 따른 예시 결과값과 함께 제공하여 명확성을 높입니다.
    - **마크다운 형식 활용**: 결과 문서는 반드시 마크다운으로 작성하며, 계층화를 통해 명확성을 확보합니다.
    - **생성된 문서 검토**: 생성된 문서는 반드시 다시 확인하고, 누락되거나 잘못된 부분이 있다면 직접 반영하여 수정합니다. 반복되는 문제는 강조하여 다음 작업 시 개선될 수 있도록 합니다.